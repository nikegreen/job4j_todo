# job4j_todo
Необходимо создать приложение "TODO список". Стек технологий: Spring boot, Thymeleaf, Bootstrap, Hibernate, PostgreSql.

## Про проект:

### Авторизация
Сервис предусматривает авторизацию.
Если пользователь не авторизовался в сервере,
доступны главная страница, страницы регистрации,
страницы авторизации.

### Главная страница
Страница со списком всех заданий. В таблице отображаем имя, дату создания и состояние (выполнено или нет)
- На странице есть кнопка "Добавить задание".
- На странице три ссылки: Все, Выполненные, Новые. При перевода по ссылкам в таблице нужно отображать: все задания, только выполненные или только новые.
- При клике на задание переходим на страницу с подробным описанием.

### Страница подробное описание
На странице с подробным описанием добавить кнопки:
- Выполнено, 
    - Если нажали на кнокпу выполнить, то задание переводиться в состояние выполнено.
- Отредактировать, 
    - Кнопка редактировать переводит пользователя на отдельную страницу для редактирования.
- Удалить.
    - Кнопка удалить, удаляет задание и переходит на список всех заданий.

### Страница редактирование
Содержит поле:
- текст, описывающий дело.
- кнопку - отменить. Переходим на главную страницу.
- кнопку - сохранить. Сохраняем в БД. Переходим на главную страницу.  

### Страница добавить задание
Содержит поле:
- текст, описывающий дело.
- кнопку - отменить. Переходим на главную страницу.
- кнопку - добавить. Добавляем в БД. Переходим на главную страницу.


### Страница авторизации
Содержит поле:


### Страница ошибки авторизации
Содержит поле:


### Страница регистрации
Содержит поле:


### Страница ошибки регистрации
Содержит поле:


### Страница успешной регистрации
Содержит поле:

## Архитектура приложения
Приложение должно состоять из 3х слоёв: Controller, Service, Persistence.

## БД
База данных содержать 3 таблицы: users, tasks.
- users - таблица с описанием пользователей.
- tasks - список дел.

В таблице tasks хранится информация о делах:
- текст с делом,
- время,
- статус выполнения (да/нет).

В таблице tasks созданы ограничения на уникальность полей:
- текст с делом, 
- время.
 
В таблице user - хранится информация о ползователях:
- имя,
- email,
- пароль.

В таблице tasks созданы ограничения на уникальность полей:
- email.

## Технологии:
В проекте использованы:
- java 17,
- СУБД PostgreSQL 15,
- Spring boot 2.7.3,
- JUnit 4.13.2,
- hamcrest 1.3,
- mockito 4.0.0,
- liquibase 3.6.2,
- h2database 2.1.214,
- Maven 3.8,
- thymeleaf 2.7.3,
- checkstyle 3.1.2,
- net.jcip 1.0,
- commons-dbcp2 2.7.0,

## Список ПО:
### - git
Установить с сайта: https://git-scm.com/downloads

### - java 17
Установить с сайта: https://www.oracle.com/java/technologies/downloads/

### - IntelliJ IDEA 2022.3.1 (Community Edition)
Установить с сайта: https://www.jetbrains.com/ru-ru/idea/

### - Maven 3.8
Установить с сайта: https://maven.apache.org/install.html

### - PostgreSQL 15
Установить с сайта: https://www.postgresql.org/download/

## Запуск проекта

### 1. Клонирование проекта с github.
Создайте каталог "job4j_tod" в который будете клонировать проект.<br>
```c:\>mkdir  job4j_todo``` <br>

Ссылка на проект: https://github.com/nikegreen/job4j_todo.git <br>
Войдите внутрь своего каталога:<br>
```c:\>cd  job4j_todo``` <br>
Склонируйте проект командой.
```c:\job4j_todo\>git clone https://github.com/nikegreen/job4j_todo.git``` <br>

### 2. Создание базы данных:
Запустите окно команд БД (ПУСК - Все программы - PostgreSQL 15 - SQL Shell(psql)).
Введите пользователя и пароль б.д.
Создайте б.д. командой: "create database todo" <br>
```
Server [localhost]:
Database [postgres]:
Port [5432]:
Username [postgres]:
Пароль пользователя postgres:
psql (15.1)
ПРЕДУПРЕЖДЕНИЕ: Кодовая страница консоли (866) отличается от основной
                страницы Windows (1251).
                8-битовые (русские) символы могут отображаться некорректно.
                Подробнее об этом смотрите документацию psql, раздел
                "Notes for Windows users".
Введите "help", чтобы получить справку.

postgres=# create database todo;
 ``` 
### 3. Подготовка  таблиц к созданию и инициализации
В папке "job4j_todo\db\script" нужно выполнить последовательно скрипты с помощью
liquibase (пункт 5).
Перед выполнением скриптов нужно очистить контрольные суммы командой:<br>
```
mvn liquibase:clearCheckSums
```

### 4. Настройка конфигурации БД в Job4j_todo
В папке "job4j_todo\srс\main\resources" в текстовом редакторе измените настройки в файле "db.properties".
```
jdbc.url=jdbc:postgresql://127.0.0.1:5432/todo
jdbc.driver=org.postgresql.Driver
jdbc.username=postgres
jdbc.password=password
```
если у вас они отличаются.

### 5. Компиляция и запуск сервиса.
```
mvn spring-boot:run
```
### 6. Запуск сервиса без сборки.
```
cd c:\job4j_todo\target
java -jar job4j_todo-1.0-SNAPSHOT.jar 
```
### 7. Запуск клиента.
Открываем любым web - браузером адрес:
```
http://localhost:8080/index
```
Должна открыться главная страница (все задачи): <br>
<img src="https://github.com/nikegreen/job4j_todo/blob/main/files/index_all.png" style="width: 100%">

Нажатием на ссылки сверху:
- Все
- Выполненные
- Новые

Фильтруем задачи показываемые на заглавной странице.<br>
Фильтр "Выполненные".<br>
<img src="https://github.com/nikegreen/job4j_todo/blob/main/files/index_done.png" style="width: 100%">

Фильтр "Новые".<br>
<img src="https://github.com/nikegreen/job4j_todo/blob/main/files/index_new.png" style="width: 100%">

Для создания задания нажмите сверху справа кнопку "Добавить задание". 
Перейдёте к форме создания задания: <br>
<img src="https://github.com/nikegreen/job4j_todo/blob/main/files/formAddTask.png" style="width: 100%">

Отредактируйте описание и нажмите кнопку сохранить. Вернётесь на главную страницу.

Если нажать на строку c задачей, откроется форма с подробным описанием задачи. <br>
<img src="https://github.com/nikegreen/job4j_todo/blob/main/files/formViewTask.png" style="width: 100%">

Если нажать на кнопку:
- "Выполнено", то задача поменяет статус на - выполнено. 
Снова попадём на главную страницу. 

- "Удалить" - удалит задачу. Перейдёт на главный экран.

- "Отредактировать" - перейдём на экран редактирования записи. <br>
<img src="https://github.com/nikegreen/job4j_todo/blob/main/files/formEditTask.png" style="width: 100%">

Кнопка "Сохранить" сохранит все изменения.

Если возникнет ошибка появится окно c описанием ошибки:
<img src="https://github.com/nikegreen/job4j_todo/blob/main/files/error.png" style="width: 100%">

## FEEDBACK
Все предложения и замечания направлять job4j_todo.nikegreen@yandex.ru <br>
Проект учебный. Используйте на свой страх и риск.
Я не несу ответственности за любой прямой и косвенный ущерб.




